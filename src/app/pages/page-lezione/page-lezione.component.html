<div class="row col-12 d-flex justify-content-center mt-3">
    <h2 class="display-4" style="font-size: 2rem">{{lezione.title}}</h2>
</div>

<div *ngIf="isUtenteLogged" class="row col-12 d-flex justify-content-center">
    <app-modal-paragrafo-new></app-modal-paragrafo-new>
</div>

<div class="row mt-3 ">
    <div *ngIf="!isDevice && lezione.listaParagrafi.length > 0" class="col-lg-3 p-3 pr-5 section-paragrafi">
        <h4><b>Paragrafi :</b></h4>
        <hr />
        <mat-list role="list">
            <div *ngFor="let paragrafo of lezione.listaParagrafi">
                <mat-list-item role="listitem" (click)="scroll(paragrafo)" >
                    <h6>{{paragrafo.titolo}}</h6>
                </mat-list-item>
            </div>
        </mat-list>
    </div>
    <div *ngIf="isDevice && lezione.listaParagrafi.length > 0" class=" p-2 scrollmenu">
        <mat-form-field appearance="fill">
            <mat-label>Vai al paragrafo ...</mat-label>
            <mat-select>
              <mat-option *ngFor="let paragrafo of lezione.listaParagrafi" (click)="scroll(paragrafo)" [value]="paragrafo.titolo" [innerHTML]="paragrafo.titolo">
               
              </mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    <div class="col-lg-9 col-xs-12 ">
        <div class="mb-4 " *ngFor="let paragrafo of lezione.listaParagrafi">
            <div class="row col-12">
                <p id="{{paragrafo.idComponent}}" class="h5">{{paragrafo.titolo}}</p>
                <div style="margin-top: -5px;" *ngIf="isUtenteLogged">
                    <app-modal-paragrafo-edit [paragrafo]="paragrafo"></app-modal-paragrafo-edit>
                </div>
                <div style="margin-top: -5px; margin-left: -5px;" *ngIf="isUtenteLogged">
                    <button class="pl-0" mat-button (click)="elimina(paragrafo)" style="color: #6c757d;">
                        <mat-icon style="margin-top: -5px;">delete_outline</mat-icon>
                    </button>
                </div>
            </div>
            <div class="mt-1 mb-3" [innerHTML]="paragrafo.content"></div>

            <div *ngFor="let code of paragrafo.codes">
                <div class="col-12 pl-0 pr-0 mb-3">
                    <h4>{{code.title}}</h4>
                    <ngx-codemirror [(ngModel)]="code.content" 
                    [options]="{
                        lineNumbers: true,
                        theme: 'eclipse',
                        mode: 'javascript',
                        height: 'auto',
                        matchBrackets: true,
                        width: 'auto',
                        lint: true
                    }"></ngx-codemirror>

                </div>
            </div>
        </div>

    </div>
</div>